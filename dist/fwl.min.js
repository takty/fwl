var u=(i,e)=>()=>(i&&(e=i(i=0)),e);var C,G=u(()=>{C=class{#e=-1;#t="";userObject=null;setIndex(e){this.#e=e}setName(e){this.#t=e}index(){return this.#e}name(){return this.#t}}});var v,E=u(()=>{G();v=class i extends C{static#e=Number.MIN_VALUE;d;es=[];v=i.#e;constructor(e){super(),this.d=e}toString(){let e=this.name(),t=e?`(${e})`:"",r=this.isEmpty()?"<empty>":""+this.value();return`x${this.index()}${t} = ${r}`}size(){return this.es.length}at(e){return this.es.at(e)}has(e){return this.es.includes(e)}indexOf(e){return this.es.indexOf(e)}neighbors(){let e=[];for(let t of this.es)for(let r of t)r!==this&&e.push(r);return e}[Symbol.iterator](){return this.es[Symbol.iterator]()}connect(e){if(this.es.includes(e))throw new RangeError;this.es.push(e)}disconnect(e){if(!this.es.includes(e))throw new RangeError;this.es=this.es.filter(t=>t!==e)}domain(e){if(e===void 0)return this.d;this.d=e,this.clear()}assign(e){this.v=e}clear(){this.assign(i.#e)}value(){return this.v}isEmpty(){return this.value()===i.#e}}});var p,j,Z,X=u(()=>{p=class{static create(e,t=null){if(Array.isArray(e))return new j(e);if(t!==null)return new Z(e,t);throw new RangeError}},j=class extends p{#e;constructor(e){super(),this.#e=[...e]}contains(e){return this.#e.includes(e)}indexOf(e){return this.#e.indexOf(e)}size(){return this.#e.length}at(e){return this.#e[e]}[Symbol.iterator](){return this.#e[Symbol.iterator]()}},Z=class extends p{#e;#t;constructor(e,t){super(),this.#e=e|0,this.#t=t|0}contains(e){return this.#e<=e&&e<=this.#t}indexOf(e){return this.#e<=e&&e<=this.#t?e-this.#e:-1}size(){return this.#t-this.#e+1}at(e){return this.#e+e}[Symbol.iterator](){let e=this.#e,t=this.#t;return{next(){return e<=t?{value:e++,done:!1}:{value:null,done:!0}}}}}});var S,Y,q,J,K,Q=u(()=>{G();S=class extends C{static create(e,t){return t.length===1?new Y(e,t[0]):t.length===2?new q(e,t[0],t[1]):t.length===3?new J(e,t[0],t[1],t[2]):new K(e,...t)}r;es=[];constructor(e){super(),this.r=e}toString(){let e=this.name(),t=e?`(${e})`:"",r=this.degree(),n=r<0?"UNDEFINED":""+r;return`c${this.index()}${t} = ${n}`}size(){return this.es.length}at(e){return this.es.at(e)}has(e){return this.es.includes(e)}indexOf(e){return this.es.indexOf(e)}neighbors(){let e=[];for(let t of this.es)for(let r of t)r!==this&&e.push(r);return e}[Symbol.iterator](){return this.es[Symbol.iterator]()}relation(){return this.r}},Y=class extends S{constructor(e,t){super(e),this.es=[t]}emptySize(){return this.es[0].isEmpty()?1:0}isDefined(){return!this.es[0].isEmpty()}status(){return this.es[0].isEmpty()?-1:this.r(this.es[0].value())===1?1:0}degree(){return this.es[0].isEmpty()?-1:this.r(this.es[0].value())}},q=class extends S{constructor(e,t,r){super(e),this.es=[t,r]}emptySize(){let e=0;return this.es[0].isEmpty()&&++e,this.es[1].isEmpty()&&++e,e}isDefined(){return!this.es[0].isEmpty()&&!this.es[1].isEmpty()}status(){return this.es[0].isEmpty()||this.es[1].isEmpty()?-1:this.r(this.es[0].value(),this.es[1].value())===1?1:0}degree(){return this.es[0].isEmpty()||this.es[1].isEmpty()?-1:this.r(this.es[0].value(),this.es[1].value())}},J=class extends S{constructor(e,t,r,n){super(e),this.es=[t,r,n]}emptySize(){let e=0;return this.es[0].isEmpty()&&++e,this.es[1].isEmpty()&&++e,this.es[2].isEmpty()&&++e,e}isDefined(){return!this.es[0].isEmpty()&&!this.es[1].isEmpty()&&!this.es[2].isEmpty()}status(){return this.es[0].isEmpty()||this.es[1].isEmpty()||this.es[2].isEmpty()?-1:this.r(this.es[0].value(),this.es[1].value(),this.es[2].value())===1?1:0}degree(){return this.es[0].isEmpty()||this.es[1].isEmpty()||this.es[2].isEmpty()?-1:this.r(this.es[0].value(),this.es[1].value(),this.es[2].value())}},K=class extends S{#e;constructor(e,...t){super(e),this.es=[...t],this.#e=new Array(this.es.length)}emptySize(){let e=0;for(let t of this.es)e+=t.isEmpty()?1:0;return e}isDefined(){for(let e of this.es)if(e.isEmpty())return!1;return!0}status(){for(let e=0;e<this.es.length;++e){let t=this.es[e];if(t.isEmpty())return-1;this.#e[e]=t.value()}return this.r(...this.#e)===1?1:0}degree(){for(let e=0;e<this.es.length;++e){let t=this.es[e];if(t.isEmpty())return-1;this.#e[e]=t.value()}return this.r(...this.#e)}}});var F,ee=u(()=>{E();X();Q();F=class{#e=e=>new v(e);#t=(e,t)=>S.create(e,t);#r=[];#n=[];setVariableFactory(e){this.#e=e}setConstraintFactory(e){this.#t=e}addVariable(e){e.setIndex(this.#r.length),this.#r.push(e)}createDomain(e,t=null){if(Array.isArray(e))return p.create(e);if(t!==null)return p.create(e,t);throw new RangeError}createVariable(e,t=null,r){if(e instanceof v){let n=this.#e(e.domain());return this.addVariable(n),n.setName(n.name()),n.assign(n.value()),n}else if(e instanceof p){if(t!==null&&!e.contains(t))throw new Error;let n=this.#e(e);return this.addVariable(n),t!==null&&n.assign(t),r&&n.setName(r),n}throw new RangeError}createConstraint(e,t,r){let n=this.#t(e,t);n.setIndex(this.#n.length),this.#n.push(n);for(let o of t)o.connect(n);return r&&n.setName(r),n}removeConstraint(e){let t=this.#n.indexOf(e);this.#n.splice(t,1);for(let r=t;r<this.#n.length;++r)this.#n[r].setIndex(r);for(let r of e)r.disconnect(e)}clearAllVariables(){for(let e of this.#r)e.clear()}reverseVariables(){this.#r.reverse();for(let e=0;e<this.#r.length;++e)this.#r[e].setIndex(e)}sortVariables(e){this.#r.sort(e);for(let t=0;t<this.#r.length;++t)this.#r[t].setIndex(t)}variables(){return this.#r}variableSize(){return this.#r.length}variableAt(e){return this.#r[e]}variableOf(e){for(let t of this.#r)if(t.name()===e)return t;return null}hasVariable(e){return this.#r.includes(e)}constraints(){return this.#n}constraintSize(){return this.#n.length}constraintAt(e){return this.#n[e]}constraintOf(e){for(let t of this.#n)if(t.name()===e)return t;return null}hasConstraint(e){return this.#n.includes(e)}constraintsBetween(e,t){let r=[];for(let n of e)n.has(t)&&r.push(n);return r}constraintDensity(){return this.#n.length/this.#r.length}emptySize(){let e=0;for(let t of this.#r)e+=t.isEmpty()?1:0;return e}hasEmptyDomain(){for(let e of this.#r)if(e.domain().size()===0)return!0;return!1}degree(){let e=1;for(let t of this.#n){let r=t.degree();if(r<0)return r;r<e&&(e=r)}return e}constraintsWithDegree(){let e=[],t=1;for(let r of this.#n){let n=r.degree();n<t?(t=n,e.length=0,e.push(r)):n-t<Number.MIN_VALUE*10&&e.push(r)}return[e,t]}averageDegree(){let e=0;for(let t of this.#n)e+=t.degree();return e/this.#n.length}ratio(){return this.satisfiedConstraintSize()/this.#n.length}satisfiedConstraintSize(){let e=0;for(let t of this.#n)e+=t.status()===1?1:0;return e}violatingConstraintSize(){return this.#n.length-this.satisfiedConstraintSize()}satisfiedConstraints(){let e=[];for(let t of this.#n)t.status()===1&&e.push(t);return e}violatingConstraints(){let e=[];for(let t of this.#n)t.status()===0&&e.push(t);return e}}});var D,te=u(()=>{D=class{#e=!0;#t=e=>console.log(e);#r=()=>!1;#n=Number.MAX_SAFE_INTEGER;#i=null;#s=.8;#o=null;#a=0;#u=0;#l=-1;#m=0;initialize(){this.#a=this.#i===null?Number.MAX_VALUE:Date.now()+this.#i,this.#u=0}check(e=null){if(e!==null&&this.#s!==null&&this.#s<=e)return this.outputDebugString("Stop: Current evaluation value is above the target"),!0;if(this.#n<this.#u++)return this.outputDebugString("Stop: Number of iterations has reached the limit"),!1;if(this.#a<Date.now())return this.outputDebugString("Stop: Time limit has been reached"),!1;if(e!==null&&this.#o!==null)if(e!==-1&&this.#l===e){if(this.#o<this.#m++)return this.outputDebugString("Stop: Evaluation value has not changed for a certain number of times"),!1}else this.#l=e,this.#m=0;return null}solutionFound(e,t){return this.#r(e,t)}outputDebugString(e){this.#e&&this.#t(e)}isDebugMode(){return this.#e}isTargetAssigned(){return this.#s!==null}getTarget(){return this.#s}setIterationLimit(e=null){this.#n=e===null?Number.MAX_SAFE_INTEGER:e}setTimeLimit(e=null){this.#i=e}setTarget(e=null){this.#s=e}setSameEvaluationLimit(e=null){this.#o=e}setListener(e){this.#r=e}setDebugMode(e){this.#e=e}setDebugOutput(e){this.#t=e}}});var m,b=u(()=>{te();m=class{pro;monitor;constructor(){}name(){return""}solve(e,t=new D){this.pro=e,this.monitor=t,this.preprocess();let r=this.exec();return this.postprocess(),r}preprocess(){}exec(){return!1}postprocess(){}}});var x,re=u(()=>{E();x=class i{#e;#t;constructor(e,t=null){if(e instanceof i)this.#e=e.variable(),this.#t=e.value();else if(e instanceof v)this.#e=e,this.#t=t??e.value();else throw new RangeError}apply(){this.#e.assign(this.#t)}toString(){return`v${this.#e.index()} <- ${this.#t}`}value(){return this.#t}variable(){return this.#e}}});function A(i){return console.log(ae===Math.random),Math.floor(ae()*i)}var ae,y=u(()=>{ae=Math.random});var h,f=u(()=>{re();y();h=class i{static fromVariables(e){let t=new i;return t.setVariables(e),t}#e=[];constructor(){}setProblem(e){this.#e.length=0;for(let t of e.variables())this.#e.push(new x(t))}setAssignmentList(e){this.#e.length=0;for(let t of e)this.#e.push(new x(t))}setVariables(e){this.#e.length=0;for(let t of e)this.#e.push(new x(t))}addVariable(e,t=null){this.#e.push(new x(e,t))}apply(){for(let e of this.#e)e.apply()}clear(){this.#e.length=0}isEmpty(){return this.#e.length===0}size(){return this.#e.length}differenceSize(){let e=0;for(let t of this.#e)t.variable().value()!==t.value()&&++e;return e}at(e){return this.#e[e]}[Symbol.iterator](){return this.#e[Symbol.iterator]()}random(){return this.#e[A(this.#e.length)]}}});var ne=u(()=>{});var ue=u(()=>{f();ne();b()});function P(i,e){let t=0,r=Number.MAX_VALUE;for(let n=0;n<i.length;++n){let o=i[n];if(!o.isEmpty())continue;let a=o.domain().size()-e[o.index()].prunedSize();a<r&&(r=a,t=n)}return t}var V,N=u(()=>{V=class i{static#e=Number.MIN_SAFE_INTEGER;#t;#r=0;constructor(e){this.#t=new Array(e),this.#t.fill(i.#e)}prunedSize(){return this.#r}prune(e,t){if(this.#t[e]===i.#e)++this.#r;else throw new Error;this.#t[e]=t}isEmpty(){return this.#t.length===this.#r}isPruned(e){return this.#t[e]!==i.#e}recover(e){for(let t=0;t<this.#t.length;++t)this.#t[t]===e&&(this.#t[t]=i.#e,--this.#r)}recoverAll(){this.#t.fill(i.#e),this.#r=0}}});var ie=u(()=>{E()});var se=u(()=>{});function k(i,e){let t=[];for(let r=0;r<e.length;++r){t.push(new Array(e.length));for(let n=0;n<e.length;++n)n<r&&(t[r][n]=i.constraintsBetween(e[n],e[r]))}return t}function le(i){let e=new Array(i.variableSize());for(let t of i.variables())e[t.index()]=_e(i,t);return e}function _e(i,e){let t=new Array(i.variableSize());t.fill(Number.MAX_VALUE);let r=new Set;r.add(e),t[e.index()]=0,me(i,e,t,0,r);let n=0,o=0;for(let s=0;s<t.length;++s)t[s]!==Number.MAX_VALUE&&s!==e.index()&&(++n,o+=t[s]);return n===0?0:o/n}function me(i,e,t,r,n){let o=[];for(let s of e)for(let a of s)t[a.index()]===Number.MAX_VALUE&&(o.push(a),t[a.index()]=r+1);for(let s of o)n.add(s);for(let s of o)me(i,s,t,r+1,n)}var T=u(()=>{ee();E();ie();se()});var he=u(()=>{f();N();T();b()});var ce=u(()=>{f();b()});var $,be=u(()=>{f();N();T();b();$=class extends m{#e;#t;#r;#n;#i;#s;#o=!0;constructor(){super()}setUsingMinimumRemainingValuesHeuristics(e){this.#o=e}name(){return"Fuzzy Forward Checking"}preprocess(){this.#e=[...this.pro.variables()],this.#t=k(this.pro,this.#e),this.#r=Array.from(this.#e,e=>new V(e.domain().size())),this.#n=new h,this.#i=0,this.monitor.initialize()}exec(){let e=null;for(;e===null;)this.#s=!1,this.pro.clearAllVariables(),e=this.#a(0),this.#n.apply();return e===!0}#a(e,t=1){if(e===this.pro.variableSize()){let a=this.pro.degree();return this.#n.setProblem(this.pro),this.monitor.outputDebugString(`	Evaluation ${a}`),this.#i<a&&(this.#i=a,this.#s=!0,this.monitor.solutionFound(this.#n,a))?!0:this.monitor.check(a)}let r=null;if((r=this.monitor.check())!==null)return r;let n=this.#e[this.#o?P(this.#e,this.#r):e],o=n.domain(),s=this.#r[n.index()];for(let a=0,L=o.size();a<L;++a){if(s.isPruned(a))continue;n.assign(o.at(a));let I=Math.min(t,this.#h(n));if(!(I<=this.#i)){if(this.#u(e,n)&&(r=this.#a(e+1,I),r!==null||this.#s))break;for(let Te of this.#r)Te.recover(e)}}if(r===null){for(let a of this.#r)a.recover(e);n.clear()}return r}#u(e,t){for(let r of this.#e){if(!r.isEmpty())continue;let n=this.#l(t.index(),r.index()),o=this.#r[r.index()],s=r.domain();for(let a of n)if(a.emptySize()===1&&!this.#m(e,r,s,o,a))return!1}return!0}#l(e,t){return e<t?this.#t[t][e]:this.#t[e][t]}#m(e,t,r,n,o){for(let s=0,a=r.size();s<a;++s)n.isPruned(s)||(t.assign(r.at(s)),o.degree()<=this.#i&&n.prune(s,e));return t.clear(),!n.isEmpty()}#h(e){let t=Number.MAX_VALUE;for(let r of e){let n=r.degree();0<=n&&n<t&&(t=n)}return t}}});var fe=u(()=>{f();y();b()});var de=u(()=>{f();y();b()});var pe=u(()=>{f();b()});var ge=u(()=>{f();y();b()});var ve=u(()=>{f();N();T();b()});var Se=u(()=>{f();y();b()});var xe=u(()=>{f();b()});var ye=u(()=>{f();N();T();b()});var d=class{#e;#t={width:0,height:0};#r={width:Number.MAX_SAFE_INTEGER,height:Number.MAX_SAFE_INTEGER};_owner;constructor(e,t){this._owner=e,this.#e=t}getDegree(){return this.#e}addPossibleDegreesTo(e){e.add(this.#e)}setMinimumSize(e){this.#t={...e}}getMinimumSize(){return{...this.#t}}setMaximumSize(e){this.#r={...e}}getMaximumSize(){return{...this.#r}}};var oe=class extends d{#e;constructor(e,t,r){super(e,t),this.#e=r;let n={width:this.#e.length+2,height:2};this.setMinimumSize(n),this.setMaximumSize(n)}name(){return"button"}};var R=class extends d{#e;constructor(e,t,r){super(e,t),this.#e=r;let n={width:this.#e.length+2,height:1};this.setMinimumSize(n),this.setMaximumSize(n)}name(){return"checkbox"}};var O=class extends d{#e;constructor(e,t,r){super(e,t),this.#e=[...r];let n=0;for(let s of r)n=Math.max(n,s.length);let o={width:n+1,height:r.length*1};this.setMinimumSize(o),this.setMaximumSize(o)}name(){return"checkboxes"}};var M=class extends d{#e;constructor(e,t,r){super(e,t),this.#e=r;let n={width:this.#e.length,height:1};this.setMinimumSize(n),this.setMaximumSize(n)}name(){return"label"}};var w=class i extends d{static MIN_ITEM_SIZE=4;#e;static createVariableInstances(e,t,r){if(r.length<=i.MIN_ITEM_SIZE)return[[t,s=>new i(s,t,r,i.MIN_ITEM_SIZE)]];let n=[],o=t-e;for(let s=i.MIN_ITEM_SIZE+1;s<r.length;++s){let a=t+o*(s/r.length-1),L=s;n.push([a,I=>new i(I,a,r,L)])}return n}constructor(e,t,r,n=r.length){super(e,t),this.#e=[...r];let o=Math.min(n,i.MIN_ITEM_SIZE)*1,s=0;for(let a of r)s=Math.max(s,a.length);this.setMinimumSize({width:s+1,height:o}),this.setMaximumSize({width:Number.MAX_SAFE_INTEGER,height:Number.MAX_SAFE_INTEGER})}name(){return"list box"}};var z=class extends d{#e;constructor(e,t,r){super(e,t),this.#e=[...r];let n=0;for(let s of r)n=Math.max(n,s.length);let o={width:n+1,height:r.length*1};this.setMinimumSize(o),this.setMaximumSize(o)}name(){return"radio buttons"}};var l=class i{static NO_DIR=-1;static VERTICAL=0;static HORIZONTAL=1;#e;#t;#r;constructor(e,t,r=i.NO_DIR){this.#e=e,this.#t=t,this.#r=r}getOwner(){return this.#e}getDegree(){return this.#t}getDirection(){return this.#r}getEstimatedMinimumSize(e){let t=e.map(r=>r.getEstimatedMinimumSize());return this._calcSize(t)}getEstimatedMinimumSizeIf(e,t,r){let n=e.map(o=>t===o?r:o.getEstimatedMinimumSize());return this._calcSize(n)}getMinimumSize(e){let t=e.map(r=>r.getMinimumSize());return this._calcSize(t)}getMaximumSize(){return{width:Number.MAX_SAFE_INTEGER,height:Number.MAX_SAFE_INTEGER}}};ee();G();E();X();Q();b();te();ue();he();ce();be();fe();de();pe();ge();ve();Se();xe();ye();f();b();re();f();ne();N();y();T();ie();se();var _=class{#e;#t;#r={width:0,height:0};#n={x:0,y:0};_estMinSize={width:Number.MAX_SAFE_INTEGER,height:Number.MAX_SAFE_INTEGER};_states=[];_cans=[];_baseCans=[];name(){return""}setParent(e){this.#e=e}getParent(){return this.#e}getVariable(){return this.#t}getEstimatedMinimumSize(){return{...this._estMinSize}}_getCandidateEntries(){return[]}_assignCandidates(e,t){t.length=0;for(let[r,n]of this._getCandidateEntries())e<=r&&t.push(n(this))}initializeProblem(e){this._assignCandidates(0,this._cans),this._baseCans=[...this._cans],this.#t=e.createVariable(p.create([0]),0,this.name()+": type"),e.createConstraint(t=>this.#i(t),[this.#t],this.name()+": type")}#i(e){return this._states.length===0?0:this._typeToCandidate(e).getDegree()}_typeToCandidate(e=null){return e===null&&this.#t&&(e=this.#t.value()),e!==null&&this._states[e]?this._cans[this._states[e].comb[0]]:null}isValid(){return!(!this.#t||this.#t.isEmpty()||!this._states[this.#t.value()])}getMinimumSize(){return{...this._states[this.#t.value()].size}}getMaximumSize(){return this._typeToCandidate().getMaximumSize()}getSize(){return{...this.#r}}setSize(e,t){this.#r={width:e,height:t}}getLocation(){return{...this.#n}}setLocation(e,t){this.#n={x:e,y:t}}};var c=class i extends _{static SAME_DIRECTION=.5;#e=[];name(){return this._typeToCandidate()?.name()??"layout"}add(e){e.setParent(this),this.#e.push(e)}children(){return this.#e}getDescendantSize(){let e=this.#e.length;for(let t of this.#e)t instanceof i&&(e+=t.getDescendantSize());return e}initializeProblem(e){super.initializeProblem(e);for(let t=0;t<this.#e.length;++t){let r=this.#e[t];r.initializeProblem(e),e.createConstraint((n,o)=>this.#t(t,n,o),[this.getVariable(),r.getVariable()],this.name()+": toChild"),r instanceof i&&e.createConstraint((n,o)=>this.#r(r,n,o),[this.getVariable(),r.getVariable()],this.name()+": toChild")}}#t(e,t,r){return this._states[t].comb[e+1]===r?1:0}#r(e,t,r){let n=this._typeToCandidate(t).getDirection(),o=e._typeToCandidate(r).getDirection();return n!==l.NO_DIR&&o!==l.NO_DIR&&n===o?i.SAME_DIRECTION:1}initializeEstimatedMinimumSize(){for(let r of this.#e)r.initializeEstimatedMinimumSize();let e=Number.MAX_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER;for(let r of this._cans){let n=r.getEstimatedMinimumSize(this.#e);e=Math.min(e,n.width),t=Math.min(t,n.height)}this._estMinSize={width:e,height:t}}initializeDomain(e){for(let s of this.#e)if(!s.initializeDomain(e))return!1;let t=new Array(this.#e.length+1).fill(0),r=new Array(this.#e.length+1).fill(0);r[0]=this._cans.length;for(let s=0;s<this.#e.length;++s)r[s+1]=this.#e[s]._states.length;let n=Number.MAX_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER;this._states.length=0;do{for(let a=0;a<this.#e.length;++a)this.#e[a].getVariable().assign(t[a+1]);let s=this._cans[t[0]].getMinimumSize(this.#e);this.getParent().checkGivenMaximumSize(this,s)&&(this._states.push({comb:[...t],size:s}),n=Math.min(n,s.width),o=Math.min(o,s.height))}while(this.#n(t,r));for(let s of this.#e)s.getVariable().clear();return this._estMinSize={width:n,height:o},this._states.length===0?!1:(this.getVariable().domain(e.createDomain(0,this._states.length-1)),!0)}#n(e,t){for(let r=0;r<e.length&&(e[r]++,!(e[r]<t[r]));++r){if(r===e.length-1)return!1;e[r]=0}return!0}checkGivenMaximumSize(e,t){for(let r of this._cans){let n=r.getEstimatedMinimumSizeIf(this.#e,e,t);if(this.getParent().checkGivenMaximumSize(this,n))return!0}return!1}setWorstDegree(e){if(this._assignCandidates(e,this._cans),this._cans.length===0)return!1;for(let t of this.#e)if(!t.setWorstDegree(e))return!1;return!0}addPossibleDegreesTo(e){for(let t of this._baseCans)e.add(t.getDegree());for(let t of this.#e)t.addPossibleDegreesTo(e);e.add(i.SAME_DIRECTION)}doLayout(){this._typeToCandidate().doLayout(this.#e,this.getSize())}};var B=class extends l{constructor(e,t){super(e,t,l.HORIZONTAL)}name(){return"horizontal array"}_calcSize(e){let t=0,r=0;for(let n of e)t+=n.width,r<n.height&&(r=n.height);return t+=(e.length-1)*1+2,r+=2,{width:t,height:r}}doLayout(e,t){let r=1;for(let n of e){let o=n.getMinimumSize(),s=n.getMaximumSize();n.setSize(o.width,Math.min(t.height-2,s.height)),n.setLocation(r,1),n instanceof c&&n.doLayout(),r+=n.getSize().width+1}}};var U=class extends l{constructor(e,t){super(e,t,l.VERTICAL)}name(){return"vertical array"}_calcSize(e){let t=0,r=0;for(let n of e)t<n.width&&(t=n.width),r+=n.height;return t+=2,r+=(e.length-1)*1+2,{width:t,height:r}}doLayout(e,t){let r=1;for(let n of e){let o=n.getMinimumSize(),s=n.getMaximumSize();n.setSize(Math.min(t.width-2,s.width),o.height),n.setLocation(1,r),n instanceof c&&n.doLayout(),r+=n.getSize().height+1}}};var W=class extends l{constructor(e,t){super(e,t,l.HORIZONTAL)}name(){return"left labeling"}_calcSize(e){let t=e[0].width+1+e[1].width+2,r=Math.max(e[0].height,e[1].height)+2;return{width:t,height:r}}doLayout(e,t){let r=e[0],n=e[1],o=r.getMinimumSize(),s=n.getMaximumSize();r.setSize(o.width,o.height),r.setLocation(1,1),n.setSize(Math.min(t.width-2-(o.width+1),s.width),Math.min(t.height-2,s.height)),n.setLocation(1+r.getSize().width+1,1),n instanceof c&&n.doLayout()}};var H=class extends l{#e=1;constructor(e,t){super(e,t,l.VERTICAL)}name(){return"top labeling"}_calcSize(e){let t=Math.max(e[0].width,e[1].width+this.#e)+2,r=e[0].height+1+e[1].height+2;return{width:t,height:r}}doLayout(e,t){let r=e[0],n=e[1],o=r.getMinimumSize(),s=n.getMaximumSize();r.setSize(o.width,o.height),r.setLocation(1,1),n.setSize(Math.min(t.width-2-this.#e,s.width),Math.min(t.height-2-(o.height+1),s.height)),n.setLocation(1+this.#e,1+r.getSize().height+1),n instanceof c&&n.doLayout()}};var g=class extends _{name(){return this._typeToCandidate()?.name()??"control"}initializeEstimatedMinimumSize(){let e=Number.MAX_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER;for(let r of this._cans){let n=r.getMinimumSize();e=Math.min(e,n.width),t=Math.min(t,n.height)}this._estMinSize={width:e,height:t}}initializeDomain(e){this._states.length=0;for(let t=0;t<this._cans.length;t+=1){let r=this._cans[t].getMinimumSize();this.getParent().checkGivenMaximumSize(this,r)&&this._states.push({comb:[t],size:r})}return this._states.length===0?!1:(this.getVariable().domain(e.createDomain(0,this._states.length-1)),!0)}setWorstDegree(e){return this._assignCandidates(e,this._cans),this._cans.length!==0}addPossibleDegreesTo(e){for(let t of this._baseCans)t.addPossibleDegreesTo(e)}};var we=class extends g{#e;#t;constructor(e,t){super(),this.#e=e,this.#t=t}name(){return"caption ("+super.name()+")"}_getCandidateEntries(){return[[1,e=>new M(e,1,this.#e)],[.8,e=>new M(e,.8,this.#t)]]}};var ze=class extends g{#e;constructor(...e){super(),this.#e=e}name(){return"multiple ("+super.name()+")"}_getCandidateEntries(){let e=w.createVariableInstances(.75,.9,this.#e);return e.push([1,t=>new O(t,1,this.#e)]),e}};var Ce=class extends g{#e;constructor(...e){super(),this.#e=e}name(){return"single ("+super.name()+")"}_getCandidateEntries(){let e=w.createVariableInstances(.75,.9,this.#e);return e.push([1,t=>new z(t,1,this.#e)]),e}};var Ee=class extends g{#e;#t;constructor(e,t){super(),this.#e=e,this.#t=t}name(){return"single boolean ("+super.name()+")"}_getCandidateEntries(){return[[.9,e=>new R(e,.9,this.#e)],[1,e=>new z(e,1,[this.#e,this.#t])]]}};var De=class extends c{constructor(e){if(super(),e.children)for(let t of e.children)this.add(t)}_getCandidateEntries(){return[[.98,e=>new B(e,.98)],[1,e=>new U(e,1)]]}};var Ae=class extends c{constructor(e,t){super(),this.add(e),this.add(t)}_getCandidateEntries(){return[[1,e=>new W(e,1)],[.9,e=>new H(e,.9)]]}};var Ne=class i{static DEBUG=!0;static SORT_BY_DESCENDANT=!0;static SORT_BY_PATH_LENGTH=!0;#e;#t={width:0,height:0};#r=0;setRootContainer(e){this.#e=e;let t=this;this.#e.setParent(new class{checkGivenMaximumSize(r,n){let o=t.#t.height,s=t.#t.width;return n.height<=o&&n.width<=s}})}getRootContainer(){return this.#e}getLastSatisfactionDegree(){return this.#r}layoutContainer(e){return!!this.#n(e)}#n(e){this.#t={...e};let t=new F;this.#e.initializeProblem(t),this.#o(t);let r=new Set;return this.#e.addPossibleDegreesTo(r),this.#i(t,r)?(this.#e.setSize(this.#t.width,this.#t.height),this.#e.setLocation(0,0),this.#e.doLayout(),!0):!1}#i(e,t){let r=0;i.DEBUG&&(console.log(`
solveProblem - started`),r=Date.now());let n=!1,o=[...t.values()].sort((s,a)=>a-s);for(let s of o){if(s<=0||(i.DEBUG&&console.log(`	Iteration in wsd ${s}`),!this.#s(e,s)))continue;let a=new D;if(a.setTarget(s),a.setTimeLimit(100),new $().solve(e,a)){n=!0,this.#r=s;break}}return i.DEBUG&&(console.log(`solveProblem - finished (${n}, wsd = ${e.degree()})
`),console.log(`time: ${Date.now()-r}`)),n}#s(e,t){return!this.#e.setWorstDegree(t)||(this.#e.initializeEstimatedMinimumSize(),!this.#e.initializeDomain(e))?(console.log("Failure: initializeDomain"),!1):!0}#o(e){let t=le(e),r=[this.#e.getVariable()],n=[this.#e];for(;n.length>0;){let o=[];for(let s of n)for(let a of s.children())a instanceof c&&o.push(a);this.#a(o,t);for(let s of o)r.push(s.getVariable());n=o}e.sortVariables((o,s)=>r.indexOf(o)-r.indexOf(s))}#a(e,t){e.sort((r,n)=>{if(i.SORT_BY_DESCENDANT){let o=r.getDescendantSize(),a=n.getDescendantSize()-o;if(a!==0)return a}if(i.SORT_BY_PATH_LENGTH){let o=t[r.getVariable().index()];return t[n.getVariable().index()]-o}return 0})}};export{oe as Button,we as Caption,R as Checkbox,O as Checkboxes,d as Control,g as FControl,_ as FElement,c as FLayout,Ne as FlexibleLayout,De as Group,B as HorizontalArray,M as Label,Ae as Labeling,l as Layout,W as LeftLabeling,w as ListBox,ze as Multiple,z as RadioButtons,Ce as Single,Ee as SingleBoolean,H as TopLabeling,U as VerticalArray};
//# sourceMappingURL=fwl.min.js.map
