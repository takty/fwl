{"version":3,"sources":["sample.js"],"names":["LayoutSample","static","can","document","createElement","body","appendChild","ls","initialize","onResize","window","addEventListener","width","Math","floor","documentElement","clientWidth","UNIT","height","clientHeight","setCanvasSize","ctx","getContext","clearRect","scale","font","start","draw","fl","this","FlexibleLayout","cw2","Group","children","Caption","SingleBoolean","c3","Single","rbs","cw3","l","Labeling","cw","setRootContainer","layoutContainer","dr","r","x","y","lx","ly","getLocation","getSize","strokeStyle","isValid","lineWidth","strokeRect","fillStyle","fillRect","fillText","name","FLayout","c","getRootContainer"],"mappings":"AAAA,MAAMA,aAELC,YAAc,GAEdA,cACC,MAAMC,EAAMC,SAASC,cAAc,UACnCD,SAASE,KAAKC,YAAYJ,GAE1B,MAAMK,EAAK,IAAIP,aACfO,EAAGC,aAEHR,cAAaS,EAAUP,EAAKK,GAC5BG,OAAOC,iBAAiB,UAAU,IAAMX,cAAaS,EAAUP,EAAKK,IACrE,CAEAN,SAAsBC,GACrBA,EAAIU,MAASC,KAAKC,OAAOX,SAASY,gBAAgBC,YAAe,IAAMhB,aAAaiB,MAAQjB,aAAaiB,KACzGf,EAAIgB,OAASL,KAAKC,OAAOX,SAASY,gBAAgBI,aAAe,IAAMnB,aAAaiB,MAAQjB,aAAaiB,IAC1G,CAEAhB,SAAiBC,EAAKK,GACrBP,cAAaoB,EAAelB,GAE5B,MAAMmB,EAAOnB,EAAIoB,WAAW,MAC5BD,EAAIE,UAAU,EAAG,EAAGrB,EAAIU,MAAOV,EAAIgB,QACnCG,EAAIG,MAAM,GAAI,IACdH,EAAII,KAAO,kBAEXlB,EAAGmB,QACHnB,EAAGoB,KAAKzB,EACT,CAMA0B,GAEApB,aACCqB,MAAKD,EAAM,IAAIE,eAGf,MAAMC,EAAM,IAAIC,MAAM,CAAEC,SAAU,CAAC,IAAIC,QAAQ,gBAAiB,YAAa,IAAIC,cAAc,KAAM,aAE/FC,EAAK,IAAIC,OAAO,YAChBC,EAAM,IAAID,OAAO,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,UACvFE,EAAM,IAAIP,MAAM,CAAEC,SAAU,CAACG,EAAIE,KAEjCE,EAAI,IAAIC,SAAS,IAAIP,QAAQ,cAAe,UAAW,IAAIG,OAAO,cAClEK,EAAK,IAAIV,MAAM,CAAEC,SAAU,CAACO,EAAGT,EAAKQ,KAG1CV,MAAKD,EAAIe,iBAAiBD,EAC3B,CAEAhB,QACC,MAAMd,EAASC,KAAKC,OAAOX,SAASY,gBAAgBC,YAAe,IAAMhB,aAAaiB,MAChFC,EAASL,KAAKC,OAAOX,SAASY,gBAAgBI,aAAe,IAAMnB,aAAaiB,MACtF,OAAOY,MAAKD,EAAIgB,gBAAgB,CAAEhC,QAAOM,UAC1C,CAEAS,KAAKzB,GACJ,MAAMmB,EAAMnB,EAAIoB,WAAW,OAG3B,SAASuB,EAAGC,EAAGC,EAAGC,GACjB,MAAQD,EAAGE,EAAID,EAAGE,GAAQJ,EAAEK,eACtBvC,MAAEA,EAAKM,OAAEA,GAAW4B,EAAEM,UAY5B,GAVA/B,EAAIgC,YAAcP,EAAEQ,UAAY,qBAAuB,wBACvDjC,EAAIkC,UAAY,GAChBlC,EAAImC,WAAWT,EAAIE,EAAID,EAAIE,EAAItC,EAAOM,GACtCG,EAAIoC,UAAc,qBAClBpC,EAAIqC,SAASX,EAAIE,EAAID,EAAIE,EAAItC,EAAOM,GAEpCG,EAAIgC,YAAc,KAClBhC,EAAIoC,UAAc,qBAClBpC,EAAIsC,SAAU,GAAEb,EAAEc,UAAUhD,MAAUM,IAAU6B,EAAIE,EAAK,GAAKD,EAAIE,EAAK,IAEnEJ,aAAae,QAChB,IAAK,MAAMC,KAAKhB,EAAEb,WACjBY,EAAGiB,EAAGb,EAAIC,EAGb,CArBAL,CAAGhB,MAAKD,EAAImC,mBAAoB,EAAG,EAsBpC","file":"sample.min.js","sourcesContent":["class LayoutSample {\n\n\tstatic UNIT = 20;\n\n\tstatic main() {\n\t\tconst can = document.createElement('canvas');\n\t\tdocument.body.appendChild(can);\n\n\t\tconst ls = new LayoutSample();\n\t\tls.initialize();\n\n\t\tLayoutSample.#onResize(can, ls)\n\t\twindow.addEventListener('resize', () => LayoutSample.#onResize(can, ls));\n\t}\n\n\tstatic #setCanvasSize(can) {\n\t\tcan.width  = Math.floor((document.documentElement.clientWidth  - 16) / LayoutSample.UNIT) * LayoutSample.UNIT;\n\t\tcan.height = Math.floor((document.documentElement.clientHeight - 16) / LayoutSample.UNIT) * LayoutSample.UNIT;\n\t}\n\n\tstatic #onResize(can, ls) {\n\t\tLayoutSample.#setCanvasSize(can);\n\n\t\tconst ctx  = can.getContext('2d');\n\t\tctx.clearRect(0, 0, can.width, can.height);\n\t\tctx.scale(20, 20);\n\t\tctx.font = '0.6px san-serif';\n\n\t\tls.start();\n\t\tls.draw(can);\n\t}\n\n\n\t// -------------------------------------------------------------------------\n\n\n\t#fl;\n\n\tinitialize() {\n\t\tthis.#fl = new FlexibleLayout();\n\n\t\t// const cw1 = new Group({ children: [new Action(\"Button 1\"), new Action(\"Button 2\")] });\n\t\tconst cw2 = new Group({ children: [new Caption('Long Caption1', 'Caption1'), new SingleBoolean('OK', 'Cancel')] });\n\n\t\tconst c3 = new Single('Checkbox');\n\t\tconst rbs = new Single(\"Item 1\", \"Item 2\", \"Item 3\", \"Item 4\", \"Item 5\", \"Item 6\", \"Item 7\", \"Item 8\");\n\t\tconst cw3 = new Group({ children: [c3, rbs] });\n\n\t\tconst l = new Labeling(new Caption('Long Label2', 'Label2'), new Single('Checkbox2'));\n\t\tconst cw = new Group({ children: [l, cw2, cw3] });\n\t\t// const cw = new Group({ children: [cw3] });\n\n\t\tthis.#fl.setRootContainer(cw);\n\t}\n\n\tstart() {\n\t\tconst width  = Math.floor((document.documentElement.clientWidth  - 16) / LayoutSample.UNIT);\n\t\tconst height = Math.floor((document.documentElement.clientHeight - 16) / LayoutSample.UNIT);\n\t\treturn this.#fl.layoutContainer({ width, height });\n\t}\n\n\tdraw(can) {\n\t\tconst ctx = can.getContext('2d');\n\t\tdr(this.#fl.getRootContainer(), 0, 0);\n\n\t\tfunction dr(r, x, y) {\n\t\t\tconst { x: lx, y: ly }  = r.getLocation();\n\t\t\tconst { width, height } = r.getSize();\n\n\t\t\tctx.strokeStyle = r.isValid() ? 'rgba(0, 0, 0, 0.5)' : 'rgba(255, 0, 0, 0.75)';\n\t\t\tctx.lineWidth = 0.1;\n\t\t\tctx.strokeRect(x + lx, y + ly, width, height);\n\t\t\tctx.fillStyle   = 'rgba(0, 0, 0, 0.1)';\n\t\t\tctx.fillRect(x + lx, y + ly, width, height);\n\n\t\t\tctx.strokeStyle = null;\n\t\t\tctx.fillStyle   = 'rgba(0, 0, 0, 0.5)';\n\t\t\tctx.fillText(`${r.name()} ${width}, ${height}`, x + lx + 0.1, y + ly + 0.7);\n\n\t\t\tif (r instanceof FLayout) {\n\t\t\t\tfor (const c of r.children()) {\n\t\t\t\t\tdr(c, lx, ly);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n}\n"]}