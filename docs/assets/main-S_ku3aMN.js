var Re=Object.defineProperty;var ue=h=>{throw TypeError(h)};var Ve=(h,e,t)=>e in h?Re(h,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):h[e]=t;var x=(h,e,t)=>Ve(h,typeof e!="symbol"?e+"":e,t),Jt=(h,e,t)=>e.has(h)||ue("Cannot "+t);var s=(h,e,t)=>(Jt(h,e,"read from private field"),t?t.call(h):e.get(h)),u=(h,e,t)=>e.has(h)?ue("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(h):e.set(h,t),l=(h,e,t,i)=>(Jt(h,e,"write to private field"),i?i.call(h,t):e.set(h,t),t),z=(h,e,t)=>(Jt(h,e,"access private method"),t);var pt=(h,e,t,i)=>({set _(n){l(h,e,n,t)},get _(){return s(h,e,i)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}})();var St,wt,bt;class Kt{constructor(e,t){u(this,St);u(this,wt,{width:0,height:0});u(this,bt,{width:Number.MAX_SAFE_INTEGER,height:Number.MAX_SAFE_INTEGER});x(this,"_owner");this._owner=e,l(this,St,t)}getDegree(){return s(this,St)}setMinimumSize(e){l(this,wt,{...e})}getMinimumSize(){return{...s(this,wt)}}setMaximumSize(e){l(this,bt,{...e})}getMaximumSize(){return{...s(this,bt)}}}St=new WeakMap,wt=new WeakMap,bt=new WeakMap;var zt;class Oe extends Kt{constructor(t,i,n){super(t,i);u(this,zt);l(this,zt,n);const r={width:s(this,zt).length+2,height:1};this.setMinimumSize(r),this.setMaximumSize(r)}name(){return"checkbox"}}zt=new WeakMap;var yt;class le extends Kt{constructor(t,i,n){super(t,i);u(this,yt);l(this,yt,n);const r={width:s(this,yt).length,height:1};this.setMinimumSize(r),this.setMaximumSize(r)}name(){return"label"}}yt=new WeakMap;var Yt;const V=class V extends Kt{constructor(t,i,n,r=n.length){super(t,i);u(this,Yt);l(this,Yt,[...n]);const o=Math.min(r,V.MIN_ITEM_SIZE)*1;let a=0;for(const c of n)a=Math.max(a,c.length);this.setMinimumSize({width:a+1,height:o}),this.setMaximumSize({width:Number.MAX_SAFE_INTEGER,height:Number.MAX_SAFE_INTEGER})}static createVariableInstances(t,i,n){if(n.length<=V.MIN_ITEM_SIZE)return[[i,a=>new V(a,i,n,V.MIN_ITEM_SIZE)]];const r=[],o=i-t;for(let a=V.MIN_ITEM_SIZE+1;a<n.length;++a){const c=i+o*(a/n.length-1),C=a;r.push([c,N=>new V(N,c,n,C)])}return r}name(){return"list box"}};Yt=new WeakMap,x(V,"MIN_ITEM_SIZE",4);let ee=V;var Bt;class de extends Kt{constructor(t,i,n){super(t,i);u(this,Bt);l(this,Bt,[...n]);let r=0;for(const a of n)r=Math.max(r,a.length);const o={width:r+1,height:n.length*1};this.setMinimumSize(o),this.setMaximumSize(o)}name(){return"radio buttons"}}Bt=new WeakMap;var Mt,xt,_t;const Q=class Q{constructor(e,t,i=Q.NO_DIR){u(this,Mt);u(this,xt);u(this,_t);l(this,Mt,e),l(this,xt,t),l(this,_t,i)}getOwner(){return s(this,Mt)}getDegree(){return s(this,xt)}getDirection(){return s(this,_t)}getEstimatedMinimumSize(e){const t=e.map(i=>i.getEstimatedMinimumSize());return this._calcSize(t)}getEstimatedMinimumSizeIf(e,t,i){const n=e.map(r=>t===r?i:r.getEstimatedMinimumSize());return this._calcSize(n)}getMinimumSize(e){const t=e.map(i=>i.getMinimumSize());return this._calcSize(t)}getMaximumSize(){return{width:Number.MAX_SAFE_INTEGER,height:Number.MAX_SAFE_INTEGER}}};Mt=new WeakMap,xt=new WeakMap,_t=new WeakMap,x(Q,"NO_DIR",-1),x(Q,"VERTICAL",0),x(Q,"HORIZONTAL",1);let I=Q;var st,nt;class me{constructor(){u(this,st);u(this,nt);l(this,st,-1),l(this,nt,""),this.userObject=null}setIndex(e){l(this,st,e)}setName(e){l(this,nt,e)}index(){return s(this,st)}name(){return s(this,nt)}}st=new WeakMap,nt=new WeakMap;var rt;const tt=class tt extends me{constructor(e){super(),this.es=[],this.v=s(tt,rt),this.d=e}toString(){const e=this.name(),t=e?`(${e})`:"",i=this.isEmpty()?"<empty>":""+this.value();return`x${this.index()}${t} = ${i}`}size(){return this.es.length}at(e){return this.es.at(e)}has(e){return this.es.includes(e)}indexOf(e){return this.es.indexOf(e)}neighbors(){const e=[];for(const t of this.es)for(const i of t)i!==this&&e.push(i);return e}[Symbol.iterator](){return this.es[Symbol.iterator]()}connect(e){if(this.es.includes(e))throw new RangeError;this.es.push(e)}disconnect(e){if(!this.es.includes(e))throw new RangeError;this.es=this.es.filter(t=>t!==e)}domain(e){if(e===void 0)return this.d;this.d=e,this.clear()}assign(e){this.v=e}clear(){this.assign(s(tt,rt))}value(){return this.v}isEmpty(){return this.value()===s(tt,rt)}};rt=new WeakMap,u(tt,rt,Number.MIN_VALUE);let Et=tt;class it{static create(e,t=null){if(Array.isArray(e))return new Pe(e);if(t!==null)return new Fe(e,t);throw new RangeError}}var O;class Pe extends it{constructor(t){super();u(this,O);l(this,O,[...t])}contains(t){return s(this,O).includes(t)}indexOf(t){return s(this,O).indexOf(t)}size(){return s(this,O).length}at(t){return s(this,O)[t]}[Symbol.iterator](){return s(this,O)[Symbol.iterator]()}}O=new WeakMap;var D,k;class Fe extends it{constructor(t,i){super();u(this,D);u(this,k);l(this,D,t|0),l(this,k,i|0)}contains(t){return s(this,D)<=t&&t<=s(this,k)}indexOf(t){return s(this,D)<=t&&t<=s(this,k)?t-s(this,D):-1}size(){return s(this,k)-s(this,D)+1}at(t){return s(this,D)+t}[Symbol.iterator](){let t=s(this,D);const i=s(this,k);return{next(){return t<=i?{value:t++,done:!1}:{value:null,done:!0}}}}}D=new WeakMap,k=new WeakMap;class Ut extends me{constructor(e){super(),this.es=[],this.r=e}static create(e,t){return t.length===1?new Xe(e,t[0]):t.length===2?new ke(e,t[0],t[1]):t.length===3?new Ge(e,t[0],t[1],t[2]):new $e(e,...t)}toString(){const e=this.name(),t=e?`(${e})`:"",i=this.degree(),n=i<0?"UNDEFINED":""+i;return`c${this.index()}${t} = ${n}`}size(){return this.es.length}at(e){return this.es.at(e)}has(e){return this.es.includes(e)}indexOf(e){return this.es.indexOf(e)}neighbors(){const e=[];for(const t of this.es)for(const i of t)i!==this&&e.push(i);return e}[Symbol.iterator](){return this.es[Symbol.iterator]()}relation(){return this.r}}class Xe extends Ut{constructor(e,t){super(e),this.es=[t]}emptySize(){return this.es[0].isEmpty()?1:0}isDefined(){return!this.es[0].isEmpty()}status(){return this.es[0].isEmpty()?-1:this.r(this.es[0].value())===1?1:0}degree(){return this.es[0].isEmpty()?-1:this.r(this.es[0].value())}}class ke extends Ut{constructor(e,t,i){super(e),this.es=[t,i]}emptySize(){let e=0;return this.es[0].isEmpty()&&++e,this.es[1].isEmpty()&&++e,e}isDefined(){return!this.es[0].isEmpty()&&!this.es[1].isEmpty()}status(){return this.es[0].isEmpty()||this.es[1].isEmpty()?-1:this.r(this.es[0].value(),this.es[1].value())===1?1:0}degree(){return this.es[0].isEmpty()||this.es[1].isEmpty()?-1:this.r(this.es[0].value(),this.es[1].value())}}class Ge extends Ut{constructor(e,t,i,n){super(e),this.es=[t,i,n]}emptySize(){let e=0;return this.es[0].isEmpty()&&++e,this.es[1].isEmpty()&&++e,this.es[2].isEmpty()&&++e,e}isDefined(){return!this.es[0].isEmpty()&&!this.es[1].isEmpty()&&!this.es[2].isEmpty()}status(){return this.es[0].isEmpty()||this.es[1].isEmpty()||this.es[2].isEmpty()?-1:this.r(this.es[0].value(),this.es[1].value(),this.es[2].value())===1?1:0}degree(){return this.es[0].isEmpty()||this.es[1].isEmpty()||this.es[2].isEmpty()?-1:this.r(this.es[0].value(),this.es[1].value(),this.es[2].value())}}var G;class $e extends Ut{constructor(t,...i){super(t);u(this,G);this.es=[...i],l(this,G,new Array(this.es.length))}emptySize(){let t=0;for(const i of this.es)t+=i.isEmpty()?1:0;return t}isDefined(){for(const t of this.es)if(t.isEmpty())return!1;return!0}status(){for(let t=0;t<this.es.length;++t){const i=this.es[t];if(i.isEmpty())return-1;s(this,G)[t]=i.value()}return this.r(...s(this,G))===1?1:0}degree(){for(let t=0;t<this.es.length;++t){const i=this.es[t];if(i.isEmpty())return-1;s(this,G)[t]=i.value()}return this.r(...s(this,G))}}G=new WeakMap;var ot,vt,S,m;class Ue{constructor(){u(this,ot,e=>new Et(e));u(this,vt,(e,t)=>Ut.create(e,t));u(this,S,[]);u(this,m,[])}setVariableFactory(e){l(this,ot,e)}setConstraintFactory(e){l(this,vt,e)}addVariable(e){e.setIndex(s(this,S).length),s(this,S).push(e)}createDomain(e,t=null){if(Array.isArray(e))return it.create(e);if(t!==null)return it.create(e,t);throw new RangeError}createVariable(e,t=null,i){if(e instanceof Et){const n=s(this,ot).call(this,e.domain());return this.addVariable(n),n.setName(n.name()),n.assign(n.value()),n}else if(e instanceof it){if(t!==null&&!e.contains(t))throw new Error;const n=s(this,ot).call(this,e);return this.addVariable(n),t!==null&&n.assign(t),i&&n.setName(i),n}throw new RangeError}createConstraint(e,t,i){const n=s(this,vt).call(this,e,t);n.setIndex(s(this,m).length),s(this,m).push(n);for(const r of t)r.connect(n);return i&&n.setName(i),n}removeConstraint(e){const t=s(this,m).indexOf(e);s(this,m).splice(t,1);for(let i=t;i<s(this,m).length;++i)s(this,m)[i].setIndex(i);for(const i of e)i.disconnect(e)}clearAllVariables(){for(const e of s(this,S))e.clear()}reverseVariables(){s(this,S).reverse();for(let e=0;e<s(this,S).length;++e)s(this,S)[e].setIndex(e)}sortVariables(e){s(this,S).sort(e);for(let t=0;t<s(this,S).length;++t)s(this,S)[t].setIndex(t)}variables(){return s(this,S)}variableSize(){return s(this,S).length}variableAt(e){return s(this,S)[e]}variableOf(e){for(const t of s(this,S))if(t.name()===e)return t;return null}hasVariable(e){return s(this,S).includes(e)}constraints(){return s(this,m)}constraintSize(){return s(this,m).length}constraintAt(e){return s(this,m)[e]}constraintOf(e){for(const t of s(this,m))if(t.name()===e)return t;return null}hasConstraint(e){return s(this,m).includes(e)}constraintsBetween(e,t){const i=[];for(const n of e)n.has(t)&&i.push(n);return i}constraintDensity(){return s(this,m).length/s(this,S).length}emptySize(){let e=0;for(const t of s(this,S))e+=t.isEmpty()?1:0;return e}hasEmptyDomain(){for(const e of s(this,S))if(e.domain().size()===0)return!0;return!1}degree(){let e=1;for(const t of s(this,m)){const i=t.degree();if(i<0)return i;i<e&&(e=i)}return e}constraintsWithDegree(){const e=[];let t=1;for(const i of s(this,m)){const n=i.degree();n<t?(t=n,e.length=0,e.push(i)):n-t<Number.MIN_VALUE*10&&e.push(i)}return[e,t]}averageDegree(){let e=0;for(const t of s(this,m))e+=t.degree();return e/s(this,m).length}ratio(){return this.satisfiedConstraintSize()/s(this,m).length}satisfiedConstraintSize(){let e=0;for(const t of s(this,m))e+=t.status()===1?1:0;return e}violatingConstraintSize(){return s(this,m).length-this.satisfiedConstraintSize()}satisfiedConstraints(){const e=[];for(const t of s(this,m))t.status()===1&&e.push(t);return e}violatingConstraints(){const e=[];for(const t of s(this,m))t.status()===0&&e.push(t);return e}}ot=new WeakMap,vt=new WeakMap,S=new WeakMap,m=new WeakMap;var ht,At,It,Nt,at,$,ut,Ct,Dt,Lt,Tt;class ge{constructor(){u(this,ht,!0);u(this,At,e=>console.log(e));u(this,It,()=>!1);u(this,Nt,Number.MAX_SAFE_INTEGER);u(this,at,null);u(this,$,.8);u(this,ut,null);u(this,Ct,0);u(this,Dt,0);u(this,Lt,-1);u(this,Tt,0)}initialize(){l(this,Ct,s(this,at)===null?Number.MAX_VALUE:Date.now()+s(this,at)),l(this,Dt,0)}check(e=null){if(e!==null&&s(this,$)!==null&&s(this,$)<=e)return this.outputDebugString("Stop: Current evaluation value is above the target"),!0;if(s(this,Nt)<pt(this,Dt)._++)return this.outputDebugString("Stop: Number of iterations has reached the limit"),!1;if(s(this,Ct)<Date.now())return this.outputDebugString("Stop: Time limit has been reached"),!1;if(e!==null&&s(this,ut)!==null)if(e!==-1&&s(this,Lt)===e){if(s(this,ut)<pt(this,Tt)._++)return this.outputDebugString("Stop: Evaluation value has not changed for a certain number of times"),!1}else l(this,Lt,e),l(this,Tt,0);return null}solutionFound(e,t){return s(this,It).call(this,e,t)}outputDebugString(e){s(this,ht)&&s(this,At).call(this,e)}isDebugMode(){return s(this,ht)}isTargetAssigned(){return s(this,$)!==null}getTarget(){return s(this,$)}setIterationLimit(e=null){l(this,Nt,e===null?Number.MAX_SAFE_INTEGER:e)}setTimeLimit(e=null){l(this,at,e)}setTarget(e=null){l(this,$,e)}setSameEvaluationLimit(e=null){l(this,ut,e)}setListener(e){l(this,It,e)}setDebugMode(e){l(this,ht,e)}setDebugOutput(e){l(this,At,e)}}ht=new WeakMap,At=new WeakMap,It=new WeakMap,Nt=new WeakMap,at=new WeakMap,$=new WeakMap,ut=new WeakMap,Ct=new WeakMap,Dt=new WeakMap,Lt=new WeakMap,Tt=new WeakMap;class We{constructor(){}name(){return""}solve(e,t=new ge){this.pro=e,this.monitor=t,this.preprocess();const i=this.exec();return this.postprocess(),i}preprocess(){}exec(){return!1}postprocess(){}}var U,W;const he=class he{constructor(e,t=null){u(this,U);u(this,W);if(e instanceof he)l(this,U,e.variable()),l(this,W,e.value());else if(e instanceof Et)l(this,U,e),l(this,W,t??e.value());else throw new RangeError}apply(){s(this,U).assign(s(this,W))}toString(){return`v${s(this,U).index()} <- ${s(this,W)}`}value(){return s(this,W)}variable(){return s(this,U)}};U=new WeakMap,W=new WeakMap;let J=he,ce=Math.random;function He(h){return console.log(ce===Math.random),Math.floor(ce()*h)}var w;const ae=class ae{constructor(){u(this,w,[])}static fromVariables(e){const t=new ae;return t.setVariables(e),t}setProblem(e){s(this,w).length=0;for(const t of e.variables())s(this,w).push(new J(t))}setAssignmentList(e){s(this,w).length=0;for(const t of e)s(this,w).push(new J(t))}setVariables(e){s(this,w).length=0;for(const t of e)s(this,w).push(new J(t))}addVariable(e,t=null){s(this,w).push(new J(e,t))}apply(){for(const e of s(this,w))e.apply()}clear(){s(this,w).length=0}isEmpty(){return s(this,w).length===0}size(){return s(this,w).length}differenceSize(){let e=0;for(const t of s(this,w))t.variable().value()!==t.value()&&++e;return e}at(e){return s(this,w)[e]}[Symbol.iterator](){return s(this,w)[Symbol.iterator]()}random(){return s(this,w)[He(s(this,w).length)]}};w=new WeakMap;let ie=ae;var H,_,Y;const X=class X{constructor(e){u(this,_);u(this,Y,0);l(this,_,new Array(e)),s(this,_).fill(s(X,H))}prunedSize(){return s(this,Y)}prune(e,t){if(s(this,_)[e]===s(X,H))++pt(this,Y)._;else throw new Error;s(this,_)[e]=t}isEmpty(){return s(this,_).length===s(this,Y)}isPruned(e){return s(this,_)[e]!==s(X,H)}recover(e){for(let t=0;t<s(this,_).length;++t)s(this,_)[t]===e&&(s(this,_)[t]=s(X,H),--pt(this,Y)._)}recoverAll(){s(this,_).fill(s(X,H)),l(this,Y,0)}};H=new WeakMap,_=new WeakMap,Y=new WeakMap,u(X,H,Number.MIN_SAFE_INTEGER);let se=X;function Ye(h,e){let t=0,i=Number.MAX_VALUE;for(let n=0;n<h.length;++n){const r=h[n];if(!r.isEmpty())continue;const a=r.domain().size()-e[r.index()].prunedSize();a<i&&(i=a,t=n)}return t}function Be(h,e){const t=[];for(let i=0;i<e.length;++i){t.push(new Array(e.length));for(let n=0;n<e.length;++n)n<i&&(t[i][n]=h.constraintsBetween(e[n],e[i]))}return t}function Ze(h){const e=new Array(h.variableSize());for(const t of h.variables())e[t.index()]=Ke(h,t);return e}function Ke(h,e){const t=new Array(h.variableSize());t.fill(Number.MAX_VALUE);const i=new Set;i.add(e),t[e.index()]=0,pe(h,e,t,0,i);let n=0,r=0;for(let o=0;o<t.length;++o)t[o]!==Number.MAX_VALUE&&o!==e.index()&&(++n,r+=t[o]);return n===0?0:r/n}function pe(h,e,t,i,n){const r=[];for(const o of e)for(const a of o)t[a.index()]===Number.MAX_VALUE&&(r.push(a),t[a.index()]=i+1);for(const o of r)n.add(o);for(const o of r)pe(h,o,t,i+1,n)}var P,lt,L,j,F,ct,Rt,Vt,M,Ee,ne,Se,we,be,ze;class je extends We{constructor(){super();u(this,M);u(this,P);u(this,lt);u(this,L);u(this,j);u(this,F);u(this,ct);u(this,Rt,!0);u(this,Vt,0)}setUsingMinimumRemainingValuesHeuristics(t){l(this,Rt,t)}setPrePruningDegree(t){l(this,Vt,t)}name(){return"Fuzzy Forward Checking"}preprocess(){l(this,P,[...this.pro.variables()]),l(this,lt,Be(this.pro,s(this,P))),l(this,L,Array.from(s(this,P),t=>new se(t.domain().size()))),l(this,j,new ie),l(this,F,s(this,Vt)),this.monitor.initialize()}exec(){let t=null;for(;t===null;){if(l(this,ct,!1),this.pro.clearAllVariables(),!z(this,M,Ee).call(this)){t=!1;break}t=z(this,M,ne).call(this,0),s(this,j).apply()}return t===!0}}P=new WeakMap,lt=new WeakMap,L=new WeakMap,j=new WeakMap,F=new WeakMap,ct=new WeakMap,Rt=new WeakMap,Vt=new WeakMap,M=new WeakSet,Ee=function(){for(const t of this.pro.constraints()){if(t.size()!==1)continue;const i=t.at(0),n=i.domain(),r=s(this,L)[i.index()],o=t.relation();for(let a=0,c=n.size();a<c;++a)r.isPruned(a)||o(n.at(a))<=s(this,F)&&r.prune(a,-1);if(r.isEmpty())return!1}return!0},ne=function(t,i=1){if(t===this.pro.variableSize()){const c=this.pro.degree();return s(this,j).setProblem(this.pro),this.monitor.outputDebugString(`	Evaluation ${c}`),s(this,F)<c&&(l(this,F,c),l(this,ct,!0),this.monitor.solutionFound(s(this,j),c))?!0:this.monitor.check(c)}let n=null;if((n=this.monitor.check())!==null)return n;const r=s(this,P)[s(this,Rt)?Ye(s(this,P),s(this,L)):t],o=r.domain(),a=s(this,L)[r.index()];for(let c=0,C=o.size();c<C;++c){if(a.isPruned(c))continue;r.assign(o.at(c));const N=Math.min(i,z(this,M,ze).call(this,r));if(!(N<=s(this,F))){if(z(this,M,Se).call(this,t,r)&&(n=z(this,M,ne).call(this,t+1,N),n!==null||s(this,ct)))break;for(const gt of s(this,L))gt.recover(t)}}if(n===null){for(const c of s(this,L))c.recover(t);r.clear()}return n},Se=function(t,i){for(const n of s(this,P)){if(!n.isEmpty())continue;const r=z(this,M,we).call(this,i.index(),n.index()),o=s(this,L)[n.index()],a=n.domain();for(const c of r)if(c.emptySize()===1&&!z(this,M,be).call(this,t,n,a,o,c))return!1}return!0},we=function(t,i){return t<i?s(this,lt)[i][t]:s(this,lt)[t][i]},be=function(t,i,n,r,o){for(let a=0,c=n.size();a<c;++a)r.isPruned(a)||(i.assign(n.at(a)),o.degree()<=s(this,F)&&r.prune(a,t));return i.clear(),!r.isEmpty()},ze=function(t){let i=Number.MAX_VALUE;for(const n of t){const r=n.degree();0<=r&&r<i&&(i=r)}return i};function qe(h){const e=new Set;for(const t of h.constraints())Je(t,e);return e}function Je(h,e){switch(h.size()){case 1:Qe(h,e);break;case 2:ti(h,e);break;case 3:ei(h,e);break;default:ii(h,e);break}}function Qe(h,e){const t=h.at(0);for(const i of t.domain())e.add(h.relation()(i))}function ti(h,e){const t=h.at(0),i=h.at(1),n=t.isEmpty()?t.domain():[t.value()],r=i.isEmpty()?i.domain():[i.value()];for(const o of n)for(const a of r)e.add(h.relation()(o,a))}function ei(h,e){const t=h.at(0),i=h.at(1),n=h.at(2),r=t.isEmpty()?t.domain():[t.value()],o=i.isEmpty()?i.domain():[i.value()],a=n.isEmpty()?n.domain():[n.value()];for(const c of r)for(const C of o)for(const N of a)e.add(h.relation()(c,C,N))}function ii(h,e){const t=new Array(h.emptySize());let i=0;const n=new Array(h.size());for(let r=0,o=h.size();r<o;++r){const a=h.at(r);a.isEmpty()?t[i++]=r:n[r]=a.value()}ye(h,n,t,0,0,e)}function ye(h,e,t,i,n,r){const o=t[i],a=h.at(o).domain();if(i===t.length-1)for(const c of a)e[o]=c,r.add(h.relation()(...e));else for(const c of a)e[o]=c,ye(h,e,t,i+1,n,r)}var Ot,A,Pt,Ft,Zt,xe;class Me{constructor(){u(this,Zt);u(this,Ot);u(this,A);u(this,Pt,{width:0,height:0});u(this,Ft,{x:0,y:0});x(this,"_estMinSize",{width:Number.MAX_SAFE_INTEGER,height:Number.MAX_SAFE_INTEGER});x(this,"_states",[]);x(this,"_cans",[]);x(this,"_baseCans",[])}name(){return""}setParent(e){l(this,Ot,e)}getParent(){return s(this,Ot)}getVariable(){return s(this,A)}getEstimatedMinimumSize(){return{...this._estMinSize}}_getCandidateEntries(){return[]}_assignCandidates(e,t){t.length=0;for(const[i,n]of this._getCandidateEntries())e<=i&&t.push(n(this))}initializeProblem(e){this._assignCandidates(0,this._cans),this._baseCans=[...this._cans],l(this,A,e.createVariable(it.create([0]),0,this.name()+": type")),e.createConstraint(t=>z(this,Zt,xe).call(this,t),[s(this,A)],this.name()+": type")}_typeToCandidate(e=null){return e===null&&s(this,A)&&(e=s(this,A).value()),e!==null&&this._states[e]?this._cans[this._states[e].comb[0]]:null}isValid(){return!(!s(this,A)||s(this,A).isEmpty()||!this._states[s(this,A).value()])}getMinimumSize(){return{...this._states[s(this,A).value()].size}}getMaximumSize(){return this._typeToCandidate().getMaximumSize()}getSize(){return{...s(this,Pt)}}setSize(e,t){l(this,Pt,{width:e,height:t})}getLocation(){return{...s(this,Ft)}}setLocation(e,t){l(this,Ft,{x:e,y:t})}}Ot=new WeakMap,A=new WeakMap,Pt=new WeakMap,Ft=new WeakMap,Zt=new WeakSet,xe=function(e){return this._states.length===0?0:this._typeToCandidate(e).getDegree()};var p,Z,_e,ve,Ae;const et=class et extends Me{constructor(){super(...arguments);u(this,Z);u(this,p,[])}name(){const t=this._typeToCandidate();return(t==null?void 0:t.name())??"layout"}add(t){t.setParent(this),s(this,p).push(t)}children(){return s(this,p)}getDescendantSize(){let t=s(this,p).length;for(const i of s(this,p))i instanceof et&&(t+=i.getDescendantSize());return t}initializeProblem(t){super.initializeProblem(t);for(let i=0;i<s(this,p).length;++i){const n=s(this,p)[i];n.initializeProblem(t),t.createConstraint((r,o)=>z(this,Z,_e).call(this,i,r,o),[this.getVariable(),n.getVariable()],this.name()+": toChild"),n instanceof et&&t.createConstraint((r,o)=>z(this,Z,ve).call(this,n,r,o),[this.getVariable(),n.getVariable()],this.name()+": toChild")}}initializeEstimatedMinimumSize(){for(const n of s(this,p))n.initializeEstimatedMinimumSize();let t=Number.MAX_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER;for(const n of this._cans){const r=n.getEstimatedMinimumSize(s(this,p));t=Math.min(t,r.width),i=Math.min(i,r.height)}this._estMinSize={width:t,height:i}}initializeDomain(t){for(const a of s(this,p))if(!a.initializeDomain(t))return!1;const i=new Array(s(this,p).length+1).fill(0),n=new Array(s(this,p).length+1).fill(0);n[0]=this._cans.length;for(let a=0;a<s(this,p).length;++a)n[a+1]=s(this,p)[a]._states.length;let r=Number.MAX_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER;this._states.length=0;do{for(let c=0;c<s(this,p).length;++c)s(this,p)[c].getVariable().assign(i[c+1]);const a=this._cans[i[0]].getMinimumSize(s(this,p));this.getParent().checkGivenMaximumSize(this,a)&&(this._states.push({comb:[...i],size:a}),r=Math.min(r,a.width),o=Math.min(o,a.height))}while(z(this,Z,Ae).call(this,i,n));for(const a of s(this,p))a.getVariable().clear();return this._estMinSize={width:r,height:o},this._states.length===0?!1:(this.getVariable().domain(t.createDomain(0,this._states.length-1)),!0)}checkGivenMaximumSize(t,i){for(const n of this._cans){const r=n.getEstimatedMinimumSizeIf(s(this,p),t,i);if(this.getParent().checkGivenMaximumSize(this,r))return!0}return!1}setWorstDegree(t){if(this._assignCandidates(t,this._cans),this._cans.length===0)return!1;for(const i of s(this,p))if(!i.setWorstDegree(t))return!1;return!0}doLayout(){this._typeToCandidate().doLayout(s(this,p),this.getSize())}};p=new WeakMap,Z=new WeakSet,_e=function(t,i,n){return this._states[i].comb[t+1]===n?1:0},ve=function(t,i,n){const r=this._typeToCandidate(i).getDirection(),o=t._typeToCandidate(n).getDirection();return r!==I.NO_DIR&&o!==I.NO_DIR&&r===o?et.SAME_DIRECTION:1},Ae=function(t,i){for(let n=0;n<t.length&&(t[n]++,!(t[n]<i[n]));++n){if(n===t.length-1)return!1;t[n]=0}return!0},x(et,"SAME_DIRECTION",.5);let T=et;class si extends I{constructor(e,t){super(e,t,I.HORIZONTAL)}name(){return"horizontal array"}_calcSize(e){let t=0,i=0;for(const n of e)t+=n.width,i<n.height&&(i=n.height);return t+=(e.length-1)*1+2,i+=2,{width:t,height:i}}doLayout(e,t){let i=1;for(const n of e){const r=n.getMinimumSize(),o=n.getMaximumSize();n.setSize(r.width,Math.min(t.height-2,o.height)),n.setLocation(i,1),n instanceof T&&n.doLayout(),i+=n.getSize().width+1}}}class ni extends I{constructor(e,t){super(e,t,I.VERTICAL)}name(){return"vertical array"}_calcSize(e){let t=0,i=0;for(const n of e)t<n.width&&(t=n.width),i+=n.height;return t+=2,i+=(e.length-1)*1+2,{width:t,height:i}}doLayout(e,t){let i=1;for(const n of e){const r=n.getMinimumSize(),o=n.getMaximumSize();n.setSize(Math.min(t.width-2,o.width),r.height),n.setLocation(1,i),n instanceof T&&n.doLayout(),i+=n.getSize().height+1}}}class ri extends I{constructor(e,t){super(e,t,I.HORIZONTAL)}name(){return"left labeling"}_calcSize(e){const t=e[0].width+1+e[1].width+2,i=Math.max(e[0].height,e[1].height)+2;return{width:t,height:i}}doLayout(e,t){const i=e[0],n=e[1],r=i.getMinimumSize(),o=n.getMaximumSize();i.setSize(r.width,r.height),i.setLocation(1,1),n.setSize(Math.min(t.width-2-(r.width+1),o.width),Math.min(t.height-2,o.height)),n.setLocation(1+i.getSize().width+1,1),n instanceof T&&n.doLayout()}}var ft;class oi extends I{constructor(t,i){super(t,i,I.VERTICAL);u(this,ft,1)}name(){return"top labeling"}_calcSize(t){const i=Math.max(t[0].width,t[1].width+s(this,ft))+2,n=t[0].height+1+t[1].height+2;return{width:i,height:n}}doLayout(t,i){const n=t[0],r=t[1],o=n.getMinimumSize(),a=r.getMaximumSize();n.setSize(o.width,o.height),n.setLocation(1,1),r.setSize(Math.min(i.width-2-s(this,ft),a.width),Math.min(i.height-2-(o.height+1),a.height)),r.setLocation(1+s(this,ft),1+n.getSize().height+1),r instanceof T&&r.doLayout()}}ft=new WeakMap;class oe extends Me{name(){const e=this._typeToCandidate();return(e==null?void 0:e.name())??"control"}initializeEstimatedMinimumSize(){let e=Number.MAX_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER;for(const i of this._cans){const n=i.getMinimumSize();e=Math.min(e,n.width),t=Math.min(t,n.height)}this._estMinSize={width:e,height:t}}initializeDomain(e){this._states.length=0;for(let t=0;t<this._cans.length;t+=1){const i=this._cans[t].getMinimumSize();this.getParent().checkGivenMaximumSize(this,i)&&this._states.push({comb:[t],size:i})}return this._states.length===0?!1:(this.getVariable().domain(e.createDomain(0,this._states.length-1)),!0)}setWorstDegree(e){return this._assignCandidates(e,this._cans),this._cans.length!==0}}var Xt,kt;class fe extends oe{constructor(t,i){super();u(this,Xt);u(this,kt);l(this,Xt,t),l(this,kt,i)}name(){return"caption ("+super.name()+")"}_getCandidateEntries(){return[[1,t=>new le(t,1,s(this,Xt))],[.8,t=>new le(t,.8,s(this,kt))]]}}Xt=new WeakMap,kt=new WeakMap;var dt;class Qt extends oe{constructor(...t){super();u(this,dt);l(this,dt,t)}name(){return"single ("+super.name()+")"}_getCandidateEntries(){const t=ee.createVariableInstances(.75,.9,s(this,dt));return t.push([1,i=>new de(i,1,s(this,dt))]),t}}dt=new WeakMap;var mt,Gt;class hi extends oe{constructor(t,i){super();u(this,mt);u(this,Gt);l(this,mt,t),l(this,Gt,i)}name(){return"single boolean ("+super.name()+")"}_getCandidateEntries(){return[[.9,t=>new Oe(t,.9,s(this,mt))],[1,t=>new de(t,1,[s(this,mt),s(this,Gt)])]]}}mt=new WeakMap,Gt=new WeakMap;class te extends T{constructor(e){if(super(),e.children)for(const t of e.children)this.add(t)}_getCandidateEntries(){return[[.98,e=>new si(e,.98)],[1,e=>new ni(e,1)]]}}class ai extends T{constructor(e,t){super(),this.add(e),this.add(t)}_getCandidateEntries(){return[[1,e=>new ri(e,1)],[.9,e=>new oi(e,.9)]]}}var y,B,$t,v,Ie,Ne,re,Ce,De;class Ht{constructor(){u(this,v);u(this,y);u(this,B,{width:0,height:0});u(this,$t,0)}setRootContainer(e){l(this,y,e);const t=this;s(this,y).setParent(new class{checkGivenMaximumSize(i,n){const r=s(t,B).height,o=s(t,B).width;return n.height<=r&&n.width<=o}})}getRootContainer(){return s(this,y)}getLastSatisfactionDegree(){return s(this,$t)}layoutContainer(e){return!!z(this,v,Ie).call(this,e)}}y=new WeakMap,B=new WeakMap,$t=new WeakMap,v=new WeakSet,Ie=function(e){l(this,B,{...e});const t=new Ue;s(this,y).initializeProblem(t),z(this,v,Ce).call(this,t),z(this,v,re).call(this,t,0);const i=qe(t);return z(this,v,Ne).call(this,t,i)?(s(this,y).setSize(s(this,B).width,s(this,B).height),s(this,y).setLocation(0,0),s(this,y).doLayout(),!0):!1},Ne=function(e,t){let i=0;console.log(`
solveProblem - started`),i=Date.now();let n=!1;const r=[...t.values()].sort((o,a)=>a-o);for(const o of r){if(o<=0||(console.log(`	Iteration in wsd ${o}`),!z(this,v,re).call(this,e,o)))continue;const a=new ge;a.setTarget(o),a.setTimeLimit(100);const c=new je;if(c.setPrePruningDegree(o-Number.EPSILON),c.solve(e,a)){n=!0,l(this,$t,o);break}}return console.log(`solveProblem - finished (${n}, wsd = ${e.degree()})
`),console.log(`time: ${Date.now()-i}`),n},re=function(e,t){return!s(this,y).setWorstDegree(t)||(s(this,y).initializeEstimatedMinimumSize(),!s(this,y).initializeDomain(e))?(console.log("Failure: initializeDomain"),!1):!0},Ce=function(e){const t=Ze(e),i=[s(this,y).getVariable()];let n=[s(this,y)];for(;n.length>0;){const r=[];for(const o of n)for(const a of o.children())a instanceof T&&r.push(a);z(this,v,De).call(this,r,t);for(const o of r)i.push(o.getVariable());n=r}e.sortVariables((r,o)=>i.indexOf(r)-i.indexOf(o))},De=function(e,t){e.sort((i,n)=>{{const r=i.getDescendantSize(),a=n.getDescendantSize()-r;if(a!==0)return a}{const r=t[i.getVariable().index()];return t[n.getVariable().index()]-r}})},x(Ht,"DEBUG",!0),x(Ht,"SORT_BY_DESCENDANT",!0),x(Ht,"SORT_BY_PATH_LENGTH",!0);{let h=function(){b.width=400,b.height=560;const g=b.getContext("2d");let f=i(),E=0;b.addEventListener("mousemove",d=>{d.offsetX>=b.width-o&&d.offsetY>=b.height-o?(document.body.style.cursor="nw-resize",d.stopPropagation()):document.body.style.cursor=""}),b.addEventListener("mousedown",d=>{d.offsetX>=b.width-o&&d.offsetY>=b.height-o&&(a=!0,c=d.clientX,C=d.clientY)}),window.addEventListener("mousemove",d=>{if(document.body.style.cursor="",a){const R=d.clientX-c,K=d.clientY-C;b.width=Math.max(400,b.width+R),b.height=Math.max(400,b.height+K),gt&&(g==null||g.drawImage(N,0,0),t(b,g)),c=d.clientX,C=d.clientY,clearTimeout(E),E=setTimeout(()=>{e(f,b,g)},100)}}),window.addEventListener("mouseup",()=>{a=!1}),e(f,b,g)},e=function(g,f,E){E.clearRect(0,0,f.width,f.height),E.font="12px san-serif",n(g,f.width,f.height),r(g,E),gt&&(N.width=f.width,N.height=f.height,gt.drawImage(f,0,0)),t(f,E)},t=function(g,f){if(f){const E=o;f.fillStyle="rgba(0, 0, 0, 0.15)",f.fillRect(g.width-E,g.height-E,E,E),f.strokeStyle="rgba(0, 0, 0, 0.5)",f.lineWidth=2;for(let d=0;d<E;d+=6)f.beginPath(),f.moveTo(g.width-d,g.height),f.lineTo(g.width,g.height-d),f.stroke()}},i=function(){const g=new Ht,f=new te({children:[new fe("Long Caption1","Caption1"),new hi("OK","Cancel")]}),E=new Qt("Checkbox"),d=new Qt("Item 1","Item 2","Item 3","Item 4","Item 5","Item 6","Item 7","Item 8"),R=new te({children:[E,d]}),K=new ai(new fe("Long Label2","Label2"),new Qt("Checkbox2")),q=new te({children:[K,f,R]});return g.setRootContainer(q),g},n=function(g,f,E){const d=Math.floor(f/o),R=Math.floor(E/o);return g.layoutContainer({width:d,height:R})},r=function(g,f){E(g.getRootContainer(),0,0);function E(d,R,K){const{x:q,y:Wt}=d.getLocation(),{width:jt,height:qt}=d.getSize();if(f.strokeStyle=d.isValid()?"rgba(0, 0, 0, 0.5)":"rgba(255, 0, 0, 0.75)",f.lineWidth=1,f.strokeRect(R*o+q*o,K*o+Wt*o,jt*o,qt*o),f.fillStyle="rgba(0, 0, 0, 0.1)",f.fillRect(R*o+q*o,K*o+Wt*o,jt*o,qt*o),f.strokeStyle="",f.fillStyle="rgba(0, 0, 0, 0.85)",f.fillText(`${d.name()} ${jt}, ${qt}`,R*o+(q+.1)*o,K*o+(Wt+.7)*o),d instanceof T)for(const Te of d.children())E(Te,q,Wt)}};document.addEventListener("DOMContentLoaded",()=>{h()});const o=24;let a=!1,c=0,C=0;const N=document.createElement("canvas"),gt=N.getContext("2d"),Le=document.getElementById("placeholder"),b=document.createElement("canvas");Le.appendChild(b),b.style.border="1px solid #0005"}
